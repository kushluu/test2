<div *ngIf="reviewer ; else other">
    
<div class="info">
  <div *ngIf="imges.length ;  else elseBlock" class="imgdiv">
    <div *ngIf="imges && imges.length != 0 && property">
      <div *ngIf="property[0]?.image1">
        <img id="mainImg" [src]="property[0]?.image" alt="" />
      </div>
      <div *ngIf="imges[0].img1">
        <img id="mainImg" [src]="imges[0].img1" alt="" />
      </div>
      <div *ngIf="imges[0].img2">
        <img id="mainImg" [src]="imges[0].img2" alt="" />
      </div>
      <div *ngIf="imges[0].img3">
        <img id="mainImg" [src]="imges[0].img3" alt="" />
      </div>
      <div *ngIf="imges[0].img4">
        <img id="mainImg" [src]="imges[0].img4" alt="" />
      </div>
      <div *ngIf="imges[0].img5">
        <img id="mainImg" [src]="imges[0].img5" alt="" />
      </div>
    </div>
  </div>
   <ng-template #elseBlock class="imgdiv">
    <img id="mainImg" src="../../../assets/download (2).png" alt="">
   </ng-template>
<div *ngIf="contact">
  <form
    [formGroup]="surveyForm"
    (ngSubmit)="report()"
    *ngIf="surveyForm"
    enctype="multipart/form-data"
  >
  <mat-form-field appearance="fill">
    <mat-label>  <span style="color: red;">report</span>
    </mat-label>
    <mat-select formControlName="report">
    <mat-option value="litication property">litication property</mat-option>
    <mat-option value="no property in destination">no property in destination </mat-option>
    <mat-option value='facilities mentioned are not available'>facilities mentioned are not available</mat-option>
    <mat-option value="fake images">fake images</mat-option> 
    <mat-option value="already sold">already sold</mat-option>  
    </mat-select>
  </mat-form-field>
  <button class="btn btn-danger" type="submit">Report</button>
  <div *ngIf="reportmsg">
    <div class="alert alert-danger" role="alert">
      report filed
    </div>
  </div>
</form>

</div>
  <mat-tab-group
    animationDuration="100ms"
    mat-align-tabs="center"
    class="mattab"
  >
    <hr />
    <mat-tab label="map">
      <div>
        <app-map [data]="property"></app-map>
      </div>
    </mat-tab>
    <mat-tab label="info">
      <div style="display: flex">
        <!-- <div
          class="card"
          style="width: 30rem; background-color: azure; border: 2px solid black"
        > -->
        <div style="margin-left: 30vw">
          <div *ngIf="property">
            <h1 class="product_title">{{ property[0]?.name }}</h1>
            <h2 class="product_title">{{ property[0]?.price }} &#8377;</h2>
            <p class="product_title">{{ property[0]?.description }}</p>           
          </div>
        </div>
      </div>
<hr><hr>
      <div  style=" display: flex; justify-content: space-between;">
        <div>
            <span style="color: gray">Property Type:</span>
            <div *ngIf="property[0].catogary[0].apartment">Apartment</div>
            <div *ngIf="property[0].catogary[0].penthouse">Penthouse</div>
            <div *ngIf="property[0].catogary[0].duplex">duplex</div>
            <div *ngIf="property[0].catogary[0].independent_house">
              Independent House
            </div>
            <div *ngIf="property[0].catogary[0].independent_floor">
              Independent Floor
            </div>
            <div *ngIf="property[0].catogary[0].villa">Villa</div>
        </div>
        <div>
          <span style="color: gray">Facility</span>
          <div *ngIf="property[0].catogary[0].lift">Lift</div>
          <div *ngIf="property[0].catogary[0].powerbackup">
            Power Backup
          </div>
          <div *ngIf="property[0].catogary[0].swimmingpool">
            Swimmingpool
          </div>
          <div *ngIf="property[0].catogary[0].gated_community">
            Gated Community
          </div>
          <div *ngIf="property[0].catogary[0].gym">Gym</div>
          <div *ngIf="property[0].catogary[0].parking">Parking</div>
        </div>
        <div>
          <span style="color: gray">Residence Type</span>
          <div *ngIf="property[0].catogary[0].rent">Rent</div>
          <div *ngIf="property[0].catogary[0].lease">Lease</div>
          <div *ngIf="property[0].catogary[0].buy">Buy</div>
        <div>
        </div>
          <span style="color: gray">Room Type</span>
          <div *ngIf="property[0].catogary[0].single">Bachelor</div>
          <div *ngIf="property[0].catogary[0].married">Married</div>
          <div *ngIf="property[0].catogary[0].coliving">Co-living</div>
        </div>
        <div>
          <span style="color: gray">Bhk Type</span>
          <div *ngIf="property[0].catogary[0].one_bhk">One Bhk</div>
          <div *ngIf="property[0].catogary[0].two_bhk">Two Bhk</div>
          <div *ngIf="property[0].catogary[0].three_bhk">Three Bhk</div>
        </div>
        <div>
          <span style="color: gray">Furnishing</span>
          <div *ngIf="property[0].catogary[0].full_fur">
            Fully Furnished
          </div>
          <div *ngIf="property[0].catogary[0].partially_fur">
            Partially Furnished
          </div>
          <div *ngIf="property[0].catogary[0].not_fur">Not Furnished</div>
        </div>
      </div>
  <hr><hr>
    </mat-tab>

    <mat-tab label="contact" *ngIf="contact">
      <div *ngIf="reviewer && reviewer.subscription; else other">
        <div
          class="card"
          style="
            width: 30rem;
            margin-left: 30%;
            background-color: azure;
            border: 2px solid black;
          "
        >
          <p>contact details</p>
          <div *ngIf="user">
            <img
              [src]="user?.profile"
              alt=""
              style="height: 100%; width: 100%"
            />
            <div class="card-body">
              <h1 class="product_title">Name :{{ user?.u_name }}</h1>
              <h1 class="product_title">contact:{{ user?.email_id }}</h1>
            </div>
            <button class="btn btn-primary" (click)="toggler()">
              Book Appointment
            </button>
          </div>
          <div *ngIf="successmsg">
            <div class="alert alert-success" role="alert">
              appointment booked successfully
            </div>
          </div>
          <div *ngIf="book">
            <label for="">date</label>
            <input type="date" [(ngModel)]="date" name="date" />
            <label for="">description</label>
            <textarea
              name=""
              id=""
              cols="30"
              rows="3"
              [(ngModel)]="about"
              name="about"
            ></textarea>
            <button
              type="submit"
              class="btn btn-warning"
              (click)="bookappointment()"
            >
              send
            </button>
          </div>
        </div>
      </div>

      <ng-template #other>
        <div
          class="blur"
          style="
            width: 30rem;
            margin-left: 30%;
            background-color: azure;
            border: 2px solid black;
          "
        >
          <p>contact details</p>

          <img src="../../../assets/lock.png" alt="" />
          <div class="card-body">
            <h1 class="product_title">Name :{{ user?.u_name | short: 2 }}</h1>
            <h1 class="product_title">
              contact:{{ user?.email_id | short: 1 }}
            </h1>
            <button class="btn btn-primary">Book Appointment</button>
          </div>
          <div *ngIf="successmsg">
            <div class="alert alert-success" role="alert">
              appointment booked successfully
            </div>
          </div>
          <div *ngIf="book">
            <label for="">date</label>
            <input type="date" [(ngModel)]="date" name="date" />
            <label for="">description</label>
            <textarea
              name=""
              id=""
              cols="30"
              rows="3"
              [(ngModel)]="about"
              name="about"
            ></textarea>
            <button type="submit" class="btn btn-warning">send</button>
          </div>
        </div>
      </ng-template>
      <div
      
        style="width: 30rem"
        class="subscribe"
        *ngIf="!reviewer?.subscription"
      >
        subscribe to view seller details <br />
        <button
          class="btn btn-warning"
          style="margin-left: 12%"
          (click)="subscribe()"
        >
          subscribe
        </button>
      </div>
    </mat-tab>

    <mat-tab label="Comments">
      <div class="container-fluid px-1 py-5 mx-auto" class="bod">
        <div class="row justify-content-center">
          <div class="col-xl-7 col-lg-8 col-md-10 col-12 text-center mb-5">
            <ul *ngIf="reviews">
              <li *ngFor="let re of reviews">
                <br />
                <div class="card">
                  <div class="row d-flex">
                    <div class="">
                      
                      <img class="profile-pic" [src]="re.customer.profile" />
                    </div>
                    <div class="d-flex flex-column">
                      <h3 class="mt-2 mb-0">{{ re.customer.u_name }}</h3>
                      <ngb-rating
                        [(rate)]="re.rating"
                        [max]="5"
                        style="
                          color: yellow;
                          margin-left: 40%;
                          font-size: x-large;
                        "
                        [readonly]="true"
                      ></ngb-rating>
                    </div>
                    <div class="ml-auto">
                      <p class="text-muted pt-5 pt-sm-3">{{ re.date }}</p>
                    </div>
                  </div>
                  <div class="row text-left">
                    <h4 class="blue-text mt-3">{{ re.subject }}</h4>
                    <p class="content">{{ re.review }}</p>
                  </div>
                </div>
              </li>
            </ul>
            <form>
              <div class="card">
                <h3>Comments</h3>
                <ngb-rating
                  [(rate)]="gif"
                  [max]="5"
                  (rateChange)="ratechange(gif)"
                  style="color: yellow; margin-left: 40%; font-size: x-large"
                ></ngb-rating>

                <h3>subject</h3>
                <input type="text" [(ngModel)]="subject" name="subject" />

                <h3>write your Comment</h3>
                <textarea
                  name=""
                  id=""
                  cols="30"
                  rows="5"
                  [(ngModel)]="review"
                  name="review"
                ></textarea>
              </div>
              <button type="submit" class="btn btn-warning" (click)="submit()">
                Add Comment
              </button>
            </form>
          </div>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>

</div>
<ng-template #other>
    {{loginroute()}}
</ng-template>